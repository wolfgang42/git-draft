+ test_init_git_fixture
+ set +x
+ echo foo
+ echo bar
+ echo baz
+ echo bak
+ git add b.txt d.txt
+ GIT_DRAFT_TEST_RANDOM_6CHAR=abcdef
+ git-draft create --from-index
created new draft main-abcdef
+ git-draft show main-abcdef
commit acc9ecfa624fbea7234dd3b95cf7852f41fdb2ae
Author: test <test@test>
Date:   Thu Jan 1 00:00:00 1970 +0000

    Draft-on: refs/heads/main

diff --git a/b.txt b/b.txt
index 223b783..5716ca5 100644
--- a/b.txt
+++ b/b.txt
@@ -1 +1 @@
-B
+bar
diff --git a/d.txt b/d.txt
new file mode 100644
index 0000000..e5f7a48
--- /dev/null
+++ b/d.txt
@@ -0,0 +1 @@
+bak
+ git status
On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	modified:   b.txt
	new file:   d.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   a.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	c.txt

+ git diff
diff --git a/a.txt b/a.txt
index f70f10e..257cc56 100644
--- a/a.txt
+++ b/a.txt
@@ -1 +1 @@
-A
+foo
+ finish
+ set +x
