+ echo Hi
+ git-draft get-commit-message --from-stdin
Hi
+ echo Hi
+ git-draft get-commit-message --from-stdin --add-trailer Test-trailer:hello
Hi

Test-trailer: hello
+ cat
+ git-draft get-commit-message --from-stdin
This is a multi-line commit message.

It has several paragraphs.

Also: a trailer
+ cat
+ git-draft get-commit-message --from-stdin --remove-trailer Trailer
Commit message

+ echo Hi
+ git-draft get-commit-message --from-stdin -m 'This message will overwrite'
This message will overwrite

+ cat
+ git-draft get-commit-message --from-stdin -m 'This message will overwrite'
This message will overwrite

Trailer: should stay behind
+ cat
+ git-draft get-commit-message --from-stdin --parse-trailers
Trailer: here
Another: trailer
+ finish
+ set +x
